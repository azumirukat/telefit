<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeleFit - Workout Routines</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <div class="container flex justify-between items-center">
            <a href="index.html">
                <h1>TeleFit</h1>
            </a>
            <nav class="nav-links flex">
                <a href="login.html" class="bg-blue-200 text-blue-700 px-4 py-2 rounded">Login</a>
                <a href="signup.html" class="signup-btn bg-blue-500 text-white px-4 py-2 rounded">Sign Up</a>
            </nav>
        </div>
    </header>
    <main class="container">
        <section class="main-section">
            <h2 class="text-2xl mb-6">Workout Routines</h2>
            <div class="mb-4 flex items-center">
                <label for="workout-selector" class="block text-gray-700 mb-2 mr-2">Select Workout:</label>
                <select id="workout-selector" class="p-2 border border-gray-300 rounded mr-2" onchange="loadWorkout(this.value)">
                    <!-- Options will be added dynamically -->
                </select>
                <button class="bg-blue-500 text-white px-4 py-2 rounded" onclick="addWorkout()">Add Workout</button>
            </div>
            <table class="w-full bg-white shadow-md rounded mb-4">
                <thead>
                    <tr>
                        <th class="p-4 text-left">Exercise</th>
                        <th class="p-4 text-left">Sets</th>
                        <th class="p-4 text-left">Reps</th>
                        <th class="p-4 text-left">Actions</th>
                    </tr>
                </thead>
                <tbody id="exercise-table">
                    <!-- Rows will be added here dynamically -->
                </tbody>
            </table>
            <div class="flex justify-between">
                <button class="bg-blue-500 text-white px-4 py-2 rounded" onclick="addExercise()">Add Exercise</button>
                <button class="bg-green-500 text-white px-4 py-2 rounded" onclick="saveWorkout()">Save Workout</button>
                <button class="bg-red-500 text-white px-4 py-2 rounded" onclick="deleteWorkout()">Delete Workout</button>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2024 TeleFit. All rights reserved.</p>
        </div>
    </footer>

    <script>
        let workouts = {};

        function loadWorkout(workoutName) {
            const table = document.getElementById('exercise-table');
            table.innerHTML = '';

            if (workoutName && workouts[workoutName]) {
                workouts[workoutName].forEach(exercise => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="p-4"><input type="text" class="w-full p-2 border border-gray-300 rounded" value="${exercise.name}"></td>
                        <td class="p-4"><input type="number" class="w-full p-2 border border-gray-300 rounded" value="${exercise.sets}"></td>
                        <td class="p-4"><input type="number" class="w-full p-2 border border-gray-300 rounded" value="${exercise.reps}"></td>
                        <td class="p-4">
                            <button class="bg-red-500 text-white px-4 py-2 rounded" onclick="removeExercise(this)">Remove</button>
                        </td>
                    `;
                    table.appendChild(row);
                });
            }
        }

        function addWorkout() {
            const workoutName = prompt('Enter the name of the new workout:');
            if (workoutName && !workouts[workoutName]) {
                workouts[workoutName] = [];
                const selector = document.getElementById('workout-selector');
                const option = document.createElement('option');
                option.value = workoutName;
                option.text = workoutName;
                selector.add(option);
                selector.value = workoutName;
                loadWorkout(workoutName);
            } else {
                alert('Workout name is either empty or already exists.');
            }
        }

        function deleteWorkout() {
            const selector = document.getElementById('workout-selector');
            const workoutName = selector.value;
            if (workoutName && confirm('Are you sure you want to delete this workout?')) {
                delete workouts[workoutName];
                selector.remove(selector.selectedIndex);
                loadWorkout('');
            }
        }

        function addExercise() {
            const table = document.getElementById('exercise-table');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td class="p-4"><input type="text" class="w-full p-2 border border-gray-300 rounded" placeholder="Exercise Name"></td>
                <td class="p-4"><input type="number" class="w-full p-2 border border-gray-300 rounded" placeholder="Sets"></td>
                <td class="p-4"><input type="number" class="w-full p-2 border border-gray-300 rounded" placeholder="Reps"></td>
                <td class="p-4">
                    <button class="bg-red-500 text-white px-4 py-2 rounded" onclick="removeExercise(this)">Remove</button>
                </td>
            `;
            table.appendChild(row);
        }

        function removeExercise(button) {
            button.closest('tr').remove();
        }

        function saveWorkout() {
            const selector = document.getElementById('workout-selector');
            const workoutName = selector.value;
            if (workoutName) {
                const table = document.getElementById('exercise-table');
                workouts[workoutName] = Array.from(table.rows).map(row => ({
                    name: row.cells[0].querySelector('input').value,
                    sets: row.cells[1].querySelector('input').value,
                    reps: row.cells[2].querySelector('input').value,
                }));
                alert('Workout saved successfully!');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Load initial state
            const selector = document.getElementById('workout-selector');
            selector.add(new Option('Select a workout', ''));
            loadWorkout('');
        });
    </script>
</body>
</html>
